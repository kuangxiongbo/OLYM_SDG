<!DOCTYPE html>
<html>
<head>
    <title>é…ç½®çŠ¶æ€æ˜¾ç¤ºæµ‹è¯•</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; }
        .card { background: white; padding: 20px; margin: 20px 0; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .status-badge { padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.8rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }
        .status-badge.success { background: #28a745; color: white; }
        .status-badge.warning { background: #ffc107; color: white; }
        .form-group { margin: 15px 0; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; }
        button { background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; margin: 5px; }
        button:hover { background: #0056b3; }
        .test-result { margin: 10px 0; padding: 10px; border-radius: 4px; }
        .success { background: #d4edda; color: #155724; }
        .info { background: #d1ecf1; color: #0c5460; }
        .config-section { border: 1px solid #ddd; padding: 15px; margin: 10px 0; border-radius: 4px; }
        .config-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ é…ç½®çŠ¶æ€æ˜¾ç¤ºæµ‹è¯•</h1>
        
        <div class="card">
            <h2>ğŸ“ æµ‹è¯•é…ç½®ä¿å­˜å’ŒçŠ¶æ€æ˜¾ç¤º</h2>
            
            <div class="config-section">
                <div class="config-header">
                    <h3>æœ¬åœ°æ¨¡å‹é…ç½®</h3>
                    <span class="status-badge warning" id="local-status">æœªé…ç½®</span>
                </div>
                <div class="form-group">
                    <label for="local-url">æœ¬åœ°APIåœ°å€:</label>
                    <input type="text" id="local-url" value="http://192.168.210.209:11434/api/generate">
                </div>
                <div class="form-group">
                    <label for="local-model">æ¨¡å‹åç§°:</label>
                    <input type="text" id="local-model" value="deepseek-r1">
                </div>
                <div class="form-group">
                    <label for="local-timeout">è¶…æ—¶æ—¶é—´(ç§’):</label>
                    <input type="number" id="local-timeout" value="30">
                </div>
                <button onclick="saveLocalConfig()">ğŸ’¾ ä¿å­˜é…ç½®</button>
                <button onclick="loadLocalConfig()">ğŸ“‚ åŠ è½½é…ç½®</button>
                <button onclick="clearLocalConfig()">ğŸ—‘ï¸ æ¸…é™¤é…ç½®</button>
            </div>
            
            <div class="config-section">
                <div class="config-header">
                    <h3>OpenAIé…ç½®</h3>
                    <span class="status-badge warning" id="openai-status">æœªé…ç½®</span>
                </div>
                <div class="form-group">
                    <label for="openai-key">API Key:</label>
                    <input type="password" id="openai-key" value="sk-test-key">
                </div>
                <div class="form-group">
                    <label for="openai-url">API URL:</label>
                    <input type="text" id="openai-url" value="https://api.openai.com/v1">
                </div>
                <button onclick="saveOpenAIConfig()">ğŸ’¾ ä¿å­˜é…ç½®</button>
                <button onclick="loadOpenAIConfig()">ğŸ“‚ åŠ è½½é…ç½®</button>
                <button onclick="clearOpenAIConfig()">ğŸ—‘ï¸ æ¸…é™¤é…ç½®</button>
            </div>
            
            <div class="config-section">
                <div class="config-header">
                    <h3>GLMé…ç½®</h3>
                    <span class="status-badge warning" id="glm-status">æœªé…ç½®</span>
                </div>
                <div class="form-group">
                    <label for="glm-key">API Key:</label>
                    <input type="password" id="glm-key" value="glm-test-key">
                </div>
                <div class="form-group">
                    <label for="glm-url">API URL:</label>
                    <input type="text" id="glm-url" value="https://open.bigmodel.cn/api/paas/v4">
                </div>
                <button onclick="saveGLMConfig()">ğŸ’¾ ä¿å­˜é…ç½®</button>
                <button onclick="loadGLMConfig()">ğŸ“‚ åŠ è½½é…ç½®</button>
                <button onclick="clearGLMConfig()">ğŸ—‘ï¸ æ¸…é™¤é…ç½®</button>
            </div>
        </div>
        
        <div class="card">
            <h2>ğŸ“Š æµ‹è¯•ç»“æœ</h2>
            <div id="test-results"></div>
        </div>
    </div>

    <script>
        // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
        function updateStatus(type, status) {
            const statusElement = document.getElementById(type + '-status');
            statusElement.textContent = status;
            
            // å·²è¿æ¥å’Œå·²é…ç½®éƒ½æ˜¾ç¤ºä¸ºæˆåŠŸçŠ¶æ€
            const isSuccess = status === 'å·²è¿æ¥' || status === 'å·²é…ç½®';
            statusElement.className = 'status-badge ' + (isSuccess ? 'success' : 'warning');
        }
        
        // æ˜¾ç¤ºæµ‹è¯•ç»“æœ
        function showResult(message, type) {
            const resultsDiv = document.getElementById('test-results');
            const resultElement = document.createElement('div');
            resultElement.className = `test-result ${type}`;
            resultElement.textContent = message;
            resultsDiv.appendChild(resultElement);
            
            setTimeout(() => {
                if (resultElement.parentNode) {
                    resultElement.remove();
                }
            }, 3000);
        }
        
        // æœ¬åœ°æ¨¡å‹é…ç½®å‡½æ•°
        function saveLocalConfig() {
            const config = {
                url: document.getElementById('local-url').value,
                model: document.getElementById('local-model').value,
                timeout: document.getElementById('local-timeout').value
            };
            
            localStorage.setItem('local_config', JSON.stringify(config));
            updateStatus('local', 'å·²é…ç½®');
            showResult('âœ… æœ¬åœ°æ¨¡å‹é…ç½®å·²ä¿å­˜ï¼ŒçŠ¶æ€æ›´æ–°ä¸º"å·²é…ç½®"', 'success');
        }
        
        function loadLocalConfig() {
            const config = localStorage.getItem('local_config');
            if (config) {
                const parsedConfig = JSON.parse(config);
                document.getElementById('local-url').value = parsedConfig.url || '';
                document.getElementById('local-model').value = parsedConfig.model || '';
                document.getElementById('local-timeout').value = parsedConfig.timeout || 30;
                
                if (parsedConfig.url && parsedConfig.model) {
                    updateStatus('local', 'å·²é…ç½®');
                    showResult('âœ… æœ¬åœ°æ¨¡å‹é…ç½®å·²åŠ è½½ï¼ŒçŠ¶æ€æ˜¾ç¤ºä¸º"å·²é…ç½®"', 'success');
                } else {
                    updateStatus('local', 'æœªé…ç½®');
                    showResult('âš ï¸ æœ¬åœ°æ¨¡å‹é…ç½®ä¸å®Œæ•´ï¼ŒçŠ¶æ€æ˜¾ç¤ºä¸º"æœªé…ç½®"', 'info');
                }
            } else {
                updateStatus('local', 'æœªé…ç½®');
                showResult('âš ï¸ æ²¡æœ‰æ‰¾åˆ°æœ¬åœ°æ¨¡å‹é…ç½®', 'info');
            }
        }
        
        function clearLocalConfig() {
            localStorage.removeItem('local_config');
            document.getElementById('local-url').value = '';
            document.getElementById('local-model').value = '';
            document.getElementById('local-timeout').value = '30';
            updateStatus('local', 'æœªé…ç½®');
            showResult('ğŸ—‘ï¸ æœ¬åœ°æ¨¡å‹é…ç½®å·²æ¸…é™¤ï¼ŒçŠ¶æ€æ›´æ–°ä¸º"æœªé…ç½®"', 'info');
        }
        
        // OpenAIé…ç½®å‡½æ•°
        function saveOpenAIConfig() {
            const config = {
                key: document.getElementById('openai-key').value,
                url: document.getElementById('openai-url').value
            };
            
            localStorage.setItem('openai_config', JSON.stringify(config));
            updateStatus('openai', 'å·²é…ç½®');
            showResult('âœ… OpenAIé…ç½®å·²ä¿å­˜ï¼ŒçŠ¶æ€æ›´æ–°ä¸º"å·²é…ç½®"', 'success');
        }
        
        function loadOpenAIConfig() {
            const config = localStorage.getItem('openai_config');
            if (config) {
                const parsedConfig = JSON.parse(config);
                document.getElementById('openai-key').value = parsedConfig.key || '';
                document.getElementById('openai-url').value = parsedConfig.url || '';
                
                if (parsedConfig.key && parsedConfig.url) {
                    updateStatus('openai', 'å·²é…ç½®');
                    showResult('âœ… OpenAIé…ç½®å·²åŠ è½½ï¼ŒçŠ¶æ€æ˜¾ç¤ºä¸º"å·²é…ç½®"', 'success');
                } else {
                    updateStatus('openai', 'æœªé…ç½®');
                    showResult('âš ï¸ OpenAIé…ç½®ä¸å®Œæ•´ï¼ŒçŠ¶æ€æ˜¾ç¤ºä¸º"æœªé…ç½®"', 'info');
                }
            } else {
                updateStatus('openai', 'æœªé…ç½®');
                showResult('âš ï¸ æ²¡æœ‰æ‰¾åˆ°OpenAIé…ç½®', 'info');
            }
        }
        
        function clearOpenAIConfig() {
            localStorage.removeItem('openai_config');
            document.getElementById('openai-key').value = '';
            document.getElementById('openai-url').value = '';
            updateStatus('openai', 'æœªé…ç½®');
            showResult('ğŸ—‘ï¸ OpenAIé…ç½®å·²æ¸…é™¤ï¼ŒçŠ¶æ€æ›´æ–°ä¸º"æœªé…ç½®"', 'info');
        }
        
        // GLMé…ç½®å‡½æ•°
        function saveGLMConfig() {
            const config = {
                key: document.getElementById('glm-key').value,
                url: document.getElementById('glm-url').value
            };
            
            localStorage.setItem('glm_config', JSON.stringify(config));
            updateStatus('glm', 'å·²é…ç½®');
            showResult('âœ… GLMé…ç½®å·²ä¿å­˜ï¼ŒçŠ¶æ€æ›´æ–°ä¸º"å·²é…ç½®"', 'success');
        }
        
        function loadGLMConfig() {
            const config = localStorage.getItem('glm_config');
            if (config) {
                const parsedConfig = JSON.parse(config);
                document.getElementById('glm-key').value = parsedConfig.key || '';
                document.getElementById('glm-url').value = parsedConfig.url || '';
                
                if (parsedConfig.key && parsedConfig.url) {
                    updateStatus('glm', 'å·²é…ç½®');
                    showResult('âœ… GLMé…ç½®å·²åŠ è½½ï¼ŒçŠ¶æ€æ˜¾ç¤ºä¸º"å·²é…ç½®"', 'success');
                } else {
                    updateStatus('glm', 'æœªé…ç½®');
                    showResult('âš ï¸ GLMé…ç½®ä¸å®Œæ•´ï¼ŒçŠ¶æ€æ˜¾ç¤ºä¸º"æœªé…ç½®"', 'info');
                }
            } else {
                updateStatus('glm', 'æœªé…ç½®');
                showResult('âš ï¸ æ²¡æœ‰æ‰¾åˆ°GLMé…ç½®', 'info');
            }
        }
        
        function clearGLMConfig() {
            localStorage.removeItem('glm_config');
            document.getElementById('glm-key').value = '';
            document.getElementById('glm-url').value = '';
            updateStatus('glm', 'æœªé…ç½®');
            showResult('ğŸ—‘ï¸ GLMé…ç½®å·²æ¸…é™¤ï¼ŒçŠ¶æ€æ›´æ–°ä¸º"æœªé…ç½®"', 'info');
        }
        
        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨åŠ è½½æ‰€æœ‰é…ç½®
        window.onload = function() {
            loadLocalConfig();
            loadOpenAIConfig();
            loadGLMConfig();
            showResult('ğŸ“„ é¡µé¢åŠ è½½å®Œæˆï¼Œå·²è‡ªåŠ¨æ£€æŸ¥æ‰€æœ‰é…ç½®çŠ¶æ€', 'info');
        };
    </script>
</body>
</html>
